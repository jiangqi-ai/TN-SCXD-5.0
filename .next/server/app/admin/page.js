(()=>{var e={};e.id=3,e.ids=[3],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},2181:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},1547:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>o,originalPathname:()=>x,pages:()=>m,routeModule:()=>h,tree:()=>c});var r=s(7096),a=s(6132),i=s(7284),n=s.n(i),l=s(2564),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3729)),"E:\\starter-template\\TN-SCXD-5.0\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5689)),"E:\\starter-template\\TN-SCXD-5.0\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,4293)),"E:\\starter-template\\TN-SCXD-5.0\\app\\not-found.tsx"]}],m=["E:\\starter-template\\TN-SCXD-5.0\\app\\admin\\page.tsx"],x="/admin/page",o={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9582:(e,t,s)=>{Promise.resolve().then(s.bind(s,6578))},6578:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(3854),a=s(4218),i=s(3984),n=s(1432),l=s(518),d=s(1170),c=s(4212),m=s(4842);function x(){let[e,t]=(0,a.useState)({database:!1,auth:!1}),[s,x]=(0,a.useState)(!0),o=(0,i.JU)();(0,a.useEffect)(()=>{h()},[]);let h=async()=>{try{let{data:e,error:s}=await o.from("profiles").select("count").limit(1).single(),{data:r}=await o.auth.getUser(),a=!!r.user;t({database:!s,auth:a})}catch(e){console.error("Error checking system status:",e),t({database:!1,auth:!1})}finally{x(!1)}};if(s)return r.jsx(n.Z,{children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})})});let u=[{name:"用户设置",description:"管理用户角色和权限",href:"/admin/user-settings",icon:l.Z,color:"bg-blue-500"},{name:"数据库配置",description:"配置数据库连接和设置",href:"/admin/database-config",icon:d.Z,color:"bg-green-500"},{name:"系统设置",description:"配置系统参数和选项",href:"/admin/settings",icon:l.Z,color:"bg-purple-500"},{name:"系统初始化",description:"初始化系统和安全设置",href:"/admin/setup",icon:c.Z,color:"bg-orange-500"}];return r.jsx(n.Z,{children:(0,r.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"sm:flex sm:items-center",children:(0,r.jsxs)("div",{className:"sm:flex-auto",children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"管理后台"}),r.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"欢迎使用系统管理后台，您可以在这里管理系统设置和配置。"})]})}),r.jsx("div",{className:"mt-8",children:r.jsx("div",{className:"bg-white shadow rounded-lg",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"系统状态"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(m.Z,{className:`w-5 h-5 ${e.database?"text-green-500":"text-red-500"} mr-3`}),(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:["数据库连接: ",e.database?"正常":"异常"]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(m.Z,{className:`w-5 h-5 ${e.auth?"text-green-500":"text-red-500"} mr-3`}),(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:["用户认证: ",e.auth?"正常":"异常"]})]})]})]})})}),(0,r.jsxs)("div",{className:"mt-8",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"快捷操作"}),r.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:u.map(e=>r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow",children:(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:`w-10 h-10 ${e.color} rounded-md flex items-center justify-center`,children:r.jsx(e.icon,{className:"w-6 h-6 text-white"})})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),r.jsx("dd",{className:"text-xs text-gray-500 mt-1",children:e.description})]})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("a",{href:e.href,className:"text-sm text-primary-600 hover:text-primary-500 font-medium",children:"进入管理 →"})})]})},e.name))})]}),r.jsx("div",{className:"mt-8",children:r.jsx("div",{className:"bg-white shadow rounded-lg",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"系统信息"}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 space-y-2",children:[r.jsx("p",{children:"• 请定期检查系统安全设置"}),r.jsx("p",{children:"• 建议定期备份重要数据"}),r.jsx("p",{children:"• 如有问题，请联系系统管理员"})]})]})})})]})})}},1432:(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var r=s(3854),a=s(7896),i=s(1018),n=s(4218),l=s(5548),d=s.n(l),c=s(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,c.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var x=s(518);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,c.Z)("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);var h=s(4212);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,c.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),p=(0,c.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);function g({children:e}){let{user:t,profile:s,loading:l}=(0,a.useAuth)(),c=(0,i.useRouter)(),g=(0,i.usePathname)(),[y,f]=(0,n.useState)(!1);(0,n.useEffect)(()=>{l||t&&s?.role==="admin"||c.push("/")},[t,s,l,c]);let j=[{name:"仪表板",href:"/admin",icon:m,current:"/admin"===g},{name:"用户设置",href:"/admin/user-settings",icon:x.Z,current:"/admin/user-settings"===g},{name:"数据库配置",href:"/admin/database-config",icon:o,current:"/admin/database-config"===g},{name:"系统设置",href:"/admin/settings",icon:x.Z,current:"/admin/settings"===g},{name:"系统初始化",href:"/admin/setup",icon:h.Z,current:"/admin/setup"===g}];return l?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):t&&s?.role==="admin"?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsxs)("div",{className:`fixed inset-0 z-40 lg:hidden ${y?"block":"hidden"}`,children:[r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>f(!1)}),(0,r.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[r.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:r.jsx("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>f(!1),children:r.jsx(u,{className:"h-6 w-6 text-white"})})}),(0,r.jsxs)("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[r.jsx("div",{className:"flex-shrink-0 flex items-center px-4",children:r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"管理后台"})}),r.jsx("nav",{className:"mt-5 px-2 space-y-1",children:j.map(e=>(0,r.jsxs)(d(),{href:e.href,className:`group flex items-center px-2 py-2 text-base font-medium rounded-md ${e.current?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>f(!1),children:[r.jsx(e.icon,{className:`mr-4 flex-shrink-0 h-6 w-6 ${e.current?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),e.name]},e.name))})]})]})]}),r.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:r.jsx("div",{className:"flex-1 flex flex-col min-h-0 bg-white border-r border-gray-200",children:(0,r.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[r.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"管理后台"})}),r.jsx("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:j.map(e=>(0,r.jsxs)(d(),{href:e.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${e.current?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[r.jsx(e.icon,{className:`mr-3 flex-shrink-0 h-6 w-6 ${e.current?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),e.name]},e.name))})]})})}),(0,r.jsxs)("div",{className:"lg:pl-64 flex flex-col flex-1",children:[r.jsx("div",{className:"sticky top-0 z-10 lg:hidden pl-1 pt-1 sm:pl-3 sm:pt-3 bg-gray-100",children:r.jsx("button",{type:"button",className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:()=>f(!0),children:r.jsx(p,{className:"h-6 w-6"})})}),r.jsx("main",{className:"flex-1",children:r.jsx("div",{className:"py-6",children:e})})]})]}):null}},4842:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1170:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},4212:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},1018:(e,t,s)=>{"use strict";e.exports=s(7804)},3729:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>d});var r=s(5153);let a=(0,r.createProxy)(String.raw`E:\starter-template\TN-SCXD-5.0\app\admin\page.tsx`),{__esModule:i,$$typeof:n}=a,l=a.default,d=l}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[271,532,94],()=>s(1547));module.exports=r})();